<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>

		<script type="text/javascript">

		</script>

		<script type="text/javascript">
			// 练习题目：使用模块思想   模块化 思想 
			// 写一个 key 生成器
			/*
				getNumber()  // 返回 一个不重复的整数
				
				getName() //  返回一个 不重复 字符串
				
				reset()  // 重置 
			*/



			function createIDGenerator() {

				var num = 0;

				var noRepeatString = 'norepeatkey';

				var suffix = 0;
				var obj = {
					getNumber: function() {
						num++;
						return num;
					},
					
					getSuffix: function() {
						suffix++;
						return ''+suffix;
					},

					getName: function() {
					
						var arr =  noRepeatString.split('#');
						
						var key = arr[0];
		
						// console.log(key);
						noRepeatString = key + '#' + this.getSuffix();

						// console.log('onrepeatstring:',noRepeatString);
						return noRepeatString;
					},


					reset: function() {
						num = 0;
						noRepeatString = 'norepeatkey';
						suffix =0;

					}
				}
				return obj;
			}

			idGenerator = createIDGenerator();

			// idGenerator.getName();
			// idGenerator.getNumber();
			
			for (var i =0;i<5;i++){
				// idGenerator.getName()
				// idGenerator.getName()
				console.log(idGenerator.getName(),idGenerator.getNumber());
				// console.log(idGenerator.getName());
			}
			
			idGenerator.getName()
			idGenerator.getName()
			
			console.log(idGenerator.getName(),idGenerator.getNumber());
		
			
			// clear 清空 累加器 
			idGenerator.reset();
			console.log(idGenerator.getName(),idGenerator.getNumber());
			
		</script>


	</body>
</html>
