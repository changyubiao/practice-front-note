<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<p>[百度真题]浅拷贝和深拷贝</p>



		<!-- 
		 
		 
		 浅拷贝   只拷贝 原始值，对象不进行拷贝，共享对象。
		 
		 
		 深拷贝  把所有的拷贝一遍 ，两个完全不一样的 
		 
		 
		 
		 
		 
		 
		 -->


		<script type="text/javascript">
			//  from 拷贝 返回b   
			function deepCopy(from) {
				// 1.把 from 所有 成员拷贝给 b 
				var b = Object.create(from.__proto__);
				for (var i in from) {
					if (from.hasOwnProperty(i)) {

						if (from[i] instanceof Object) {
							// 深度拷贝 
							b[i] = deepCopy(from[i]);
							// array 修复显示
							if (from[i] instanceof Array) {
								b[i].length = from[i].length;
							}
						} else {
							// 基本类型
							b[i] = from[i];
						}
					}
				}
				return b;
			}
			
			
			function F1(a, b) {
			
				if (a.__proto__ && a.__proto__.constructor.name === 'F1') {
					for (var i in a) {
						if (a.hasOwnProperty(i)) {
							this[i] = a[i];
						}
					}
				} else {
					this.a = a;
					this.b = b;
				}
			}
			
			
			
			var f1 = new F1([1, 2], {
				'a': 3,
				'b': 4
			});
			// var f3 = new F1(f1);
			
			
			// 深拷贝
			var f4 = deepCopy(f1);
			
			
			
		</script>
	</body>
</html>
