<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>解析url </title>
	</head>
	<body>
		
<!-- 		
	
	解析url 
		 
		 
		 URL:
		 http://www.baidu.com/word/?a=5&b=4&c=7&d&e=
		 
		 schema://user:passwd@domain:port/path?querystring#hash
		 
		 {
			 address: http://www.baidu.com
			 a:5
			 b:4
			 c:7
			 d:undefined
			 e: ''
			 
		 }
		
		
		
		 -->
		 
		 
		 
		 <!-- 
		  
		  
		  面试题 简单写一下...
		  
		  
		  -->
		 
		


		<script type="text/javascript">
			var url = 'http://www.baidu.com/word/?a=5&b=4&c=7&d&e=';

			
			function  urlParse(url){
				var json  ={};
				if (typeof url !=='string' && !(url instanceof String)){
					return json; 
				}
				
				
				var tmp1 = url.split('?');
				
				if (tmp1.length   ==2){
					json.address = tmp1[0];
					var tmp2 = tmp1[1].split('&')
					
					for(let i = 0;i< tmp2.length;i++){
						let tmp3 = tmp2[i].split('=');
						if (tmp3.length  ===2){
							json[tmp3[0]]  = tmp3[1];
						}else if( tmp3.length  ===1){
							json[tmp3[0]] = undefined
						}
					}
				}else if  (tmp1.length ===1){
					json.address = tmp[0];
				}else{
					console.log('unknown url, are you sure a url ?');
				}
				
				return json ;
				
			}
			
			console.log(urlParse(url));
			
			
			
			// const url = new URL(
			// 	'http://example.com/path/index.html?message=hello&who=world'
			// );


			// console.log(url.toJSON())

			// console.log(url.hostname);
			// console.log(url.pathname);
		</script>


		<script>
			// Store the URL into variable
			// var url = "https://geeksforgeeks.org/pathname/?search=query";

			// // Created a parser using createElement() method
			// var parser = document.createElement("a");
			// parser.href = url;

			// // Host of the URL
			// document.write(parser.host + "<br>");

			// // Hostname of the URL
			// document.write(parser.hostname + "<br>");

			// // Pathname of URL
			// document.write(parser.pathname + "<br>");

			// // Search in the URL
			// document.write(parser.search + "<br>");
		</script>

	</body>
</html>
