<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>

		<p>
			编写一个函数,能够清除字符串 前后的空格 或者等价的空白字符
		</p>



		<script type="text/javascript">
			function clearSpace(str) {
				var result = [];
				// 匹配任何空白字符，包括空格、制表符、换页符等等。等价于 [ \f\n\r\t\v]。
				var pattern = /\s/;
				var start = look_first_index(str, pattern);
				var end = look_last_index(str, pattern, start)

				result = str.slice(start, end + 1)
				// console.log('result=',result);
				return result;

			}
			
			

			function look_first_index(str, pattern) {
				/*
					从前往后看  寻找第一个非空字符 位置
				*/
				for (var i = 0; i < str.length; i++) {
					pattern.lastIndex = 0;
					if (!pattern.test(str[i])) {
						break;
					}
				}
				return i;
			}


			function look_last_index(str, pattern, i) {
				/*
					从后往前寻找 第一个非空字符
					look for last index
				*/
				for (var j = str.length - 1; j > i; j--) {
					pattern.lastIndex = 0;
					if (!pattern.test(str[j])) {
						break;
					}
				}
				return j;
			}
			
		
			
			// main 

			// var name = '       frank     abc   \n\t   ';

			// // var result = clearSpace(name);
			
			// // var result = name.trim();
			// var result = name.trim2();

			// console.log(result);
		</script>
		
		
		<script type="text/javascript">
			/*
			方法2 
			
			*/
			// 立即执行函数
			(function(){
				
				if (!String.prototype.trim2){
					String.prototype.trim2 = function(){
						// this 
						// var tmp = this;
						// tmp = tmp.replace(/^\s+/,'');
						// tmp = tmp.replace(/\s+$/,'');
						// return tmp;
						// 直接替换
						return this.replace(/^\s+/,'').replace(/\s+$/,'');
						
						
					}
				}
				
			})();
			
			
			
			
			var name = '       frank     abc   \n\t   ';
			
			// var result = clearSpace(name);
			
			// var result = name.trim();
			var result = name.trim2();
			
			console.log(result);
			

		</script>
	</body>
</html>
